/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C2*/SET SCHEMA PUBLIC
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
drop table if exists Admision CASCADE 
drop table if exists Aseguradoras CASCADE 
drop table if exists Autor CASCADE 
drop table if exists Barrios CASCADE 
drop table if exists BeneficiariosBase CASCADE 
drop table if exists CargaDeBeneficiarios CASCADE 
drop table if exists CargaDeInventario CASCADE 
drop table if exists Cargos CASCADE 
drop table if exists Categoria CASCADE 
drop table if exists Cliente CASCADE 
drop table if exists ClienteBase CASCADE 
drop table if exists Convenio CASCADE 
drop table if exists Convenio_datosDelServicio CASCADE 
drop table if exists Coordinaciones CASCADE 
drop table if exists Departamentos CASCADE 
drop table if exists Distritos CASCADE 
drop table if exists DocumentoComercial CASCADE 
drop table if exists DocumentoComercial_detalles CASCADE 
drop table if exists EmpresasBase CASCADE 
drop table if exists EstadoCivil CASCADE 
drop table if exists EstatusDeDocumentos CASCADE 
drop table if exists IMAGES CASCADE 
drop table if exists LugarDeNacimiento CASCADE 
drop table if exists MovimientosDeContabilidad CASCADE 
drop table if exists NumeroDeHistoria CASCADE 
drop table if exists Ocupaciones CASCADE 
drop table if exists OXDISCUSSIONCOMMENTS CASCADE 
drop table if exists Parentesco CASCADE 
drop table if exists PedidoProveedorBase CASCADE 
drop table if exists PedidoProveedorBase_detalles CASCADE 
drop table if exists Producto CASCADE 
drop table if exists Profesiones CASCADE 
drop table if exists Proveedores CASCADE 
drop table if exists Provincias CASCADE 
drop table if exists RazonDeAsistenciaMedica CASCADE 
drop table if exists Regiones CASCADE 
drop table if exists ReporteSaldosPendientes CASCADE 
drop table if exists roles_usuarios CASCADE 
drop table if exists RolesDeUsuarios CASCADE 
drop table if exists Sexo CASCADE 
drop table if exists TipoDeInventario CASCADE 
drop table if exists TipoDePersona CASCADE 
drop table if exists TipoDePersonal CASCADE 
drop table if exists UnidadesPorCoordinacion CASCADE 
drop table if exists Usuarios CASCADE 
create table Admision (id integer generated by default as identity (start with 1), activo integer, descripcion varchar(255), casoCerrado boolean not null, deducibleFijoDelPaciente double, deducibleVariableDelPaciente double, fechaDeCreacion date, fechaDeEntrada date, fechaDeSalida date, nombreDeLaAseguradora varchar(255), nombreDeLaEmpresa varchar(255), nombreDeLaPoliza varchar(255), nombreDelBeneficiario varchar(255), nombreDelContrato varchar(255), nombreDelTitular varchar(255), nomenclatura varchar(255), numero bigint, numeroDeAseguradora double, numeroDeContrato double, numeroDeDocumentoDeIngreso varchar(30), numeroDeEmpresa double, numeroDePoliza double, numeroDelBeneficiario varchar(20), numeroDelTitular varchar(20), observaciones varchar(255), consultaDeBeneficiario_id integer, pacienteAtender_id integer, personalQuienAutoriza_id integer, personalQuienAvala_id integer, razonDeAsistenaciaMedica_id integer, primary key (id))
create table Aseguradoras (id integer generated by default as identity (start with 1), activo integer, descripcion varchar(255), celular1 varchar(50), celular2 varchar(50), contacto1 varchar(150), contacto2 varchar(150), telefono1 varchar(50), telefono2 varchar(50), direccion1 varchar(255), direccion2 varchar(255), direccion3 varchar(255), nroIdentificacion varchar(10), primary key (id))
create table Autor (oid varchar(32) not null, activo integer, nombre varchar(50), primary key (oid))
create table Barrios (id integer generated by default as identity (start with 1), activo integer, descripcion varchar(255), primary key (id))
create table BeneficiariosBase (DTYPE varchar(31) not null, id integer generated by default as identity (start with 1), activo integer, descripcion varchar(255), apellidoPrincipal varchar(50), apellidoPrincipalDependiente varchar(50), fechaDeNacimiento date, nombrePrincipal varchar(50), nombrePrincipalDependiente varchar(50), numeroDeAsegurado varchar(30), numeroDeAseguradoDependiente varchar(30), numeroDeBatch varchar(30), numeroDeBatchDependiente varchar(30), numeroDeDip varchar(30), numeroDeDipDependiente varchar(30), numeroDePersona varchar(30), numeroDePersonaDependiente varchar(30), numeroGrupoFamiliar varchar(30), tipoDeBeneficiario varchar(10), edadDelEmpleado integer, fechaDeIngreso date, fechaNacimientoDelEmpleado date, empladoDeLaClinica boolean, puedeAutorizar boolean, puedeAvalar boolean, parentesco_id integer, sexo_id integer, contratoHabitualAsociado_id integer, contratoDeLaClinica_id integer, estadoCivil_id integer, lugarDeNacimiento_id integer, polizaAsociada_id integer, contratoAsociado_id integer, primary key (id))
create table CargaDeBeneficiarios (id integer generated by default as identity (start with 1), activo integer, descripcion varchar(255), apellidoPrincipal varchar(50), apellidoPrincipalDependiente varchar(50), contratoAsociado integer, fechaDeNacimiento date, nombrePrincipal varchar(50), nombrePrincipalDependiente varchar(50), numeroDePersona varchar(30), numeroDePersonaDependiente varchar(30), numeroGrupoFamiliar varchar(30), parentesco varchar(50), polizaAsociada integer, sexo varchar(20), primary key (id))
create table CargaDeInventario (id integer generated by default as identity (start with 1), activo integer, descripcion varchar(255), caducidad date, codigoDeBarra varchar(255), codigoDelProducto double, descripcionDelProducto varchar(255), dosificacion varchar(255), existencia integer check (existencia>=0), laboratorio varchar(255), maxima integer check (maxima>=0), minima integer check (minima>=0), nombreComercial varchar(255), precioDeVenta numeric(19,2) check (precioDeVenta>=0), presentacion varchar(255), principioActivo varchar(255), referencia varchar(55), tipoDeInventario_id integer, primary key (id))
create table Cargos (id integer generated by default as identity (start with 1), activo integer, descripcion varchar(255), primary key (id))
create table Categoria (oid varchar(32) not null, activo integer, descripcion varchar(50), primary key (oid))
create table Cliente (numero integer not null, codigoPostal integer, municipio varchar(20), provincia varchar(30), viaPublica varchar(30), nombre varchar(50), primary key (numero))
create table ClienteBase (DTYPE varchar(31) not null, id integer generated by default as identity (start with 1), activo integer, descripcion varchar(255), edad integer, fechaDeIngreso date, fechaNacimiento date, celular1 varchar(50), celular2 varchar(50), contacto1 varchar(150), contacto2 varchar(150), telefono1 varchar(50), telefono2 varchar(50), numeroDePersona varchar(30), numeroDip varchar(40), numeroHistoriaClinica double, numeroReferencia varchar(25), direccion1 varchar(255), direccion2 varchar(255), direccion3 varchar(255), correoElectronico varchar(255), paginaWeb varchar(255), telegram varchar(30), whatsApp varchar(30), pacienteActivo boolean, tipoDeCliente varchar(10), estadoCivil_id integer, lugarDeNacimiento_id integer, sexo_id integer, ocupacion_id integer, profesion_id integer, barrio_id integer, distrito_id integer, provincia_id integer, region_id integer, primary key (id))
create table Convenio (DTYPE varchar(31) not null, id integer generated by default as identity (start with 1), activo integer, descripcion varchar(255), cantidadDias numeric(19,2) check (cantidadDias>=0), cartaRRHH boolean, conTarjeta boolean, deducibleUnico numeric(19,2) check (deducibleUnico<=100 AND deducibleUnico>=0), fechaDeFinalizacion date, fechaDeInicio date, garantiaDePago boolean, maximoDeducible numeric(19,2) check (maximoDeducible<=100 AND maximoDeducible>=0), minimoDeducible numeric(19,2) check (minimoDeducible<=100 AND minimoDeducible>=0), montoDeDescuento numeric(19,2) check (montoDeDescuento<=100 AND montoDeDescuento>=0), ordenDeCompra boolean, numero integer, tipo varchar(10), empresaAseguradora_id integer, empresaAsociada_id integer, empresaClinicaAsociada_id integer, primary key (id))
create table Convenio_datosDelServicio (Convenio_id integer not null, deducibleAplicar numeric(19,2), descuentoAplicar numeric(19,2), servicioAsociado_id integer)
create table Coordinaciones (id integer generated by default as identity (start with 1), activo integer, descripcion varchar(255), primary key (id))
create table Departamentos (id integer generated by default as identity (start with 1), activo integer, descripcion varchar(255), primary key (id))
create table Distritos (id integer generated by default as identity (start with 1), activo integer, descripcion varchar(255), primary key (id))
create table DocumentoComercial (DTYPE varchar(31) not null, oid varchar(32) not null, activo integer, eliminado BOOLEAN DEFAULT FALSE, anyo integer, fecha date, fechaCreacion date, importeTotal numeric(19,2), iva numeric(19,2), montoDeducible numeric(19,2), montoDescuento numeric(19,2), observaciones varchar(255), porcentajeDeducible numeric(19,2), porcentajeDescuento numeric(19,2), porcentajeIVA numeric(2,0), direccion varchar(255), nif varchar(20), nomenclatura varchar(255), numero bigint, numeroDeAsegurado varchar(30), numeroDeBatch varchar(30), numeroDeDip varchar(30), numeroDePersona varchar(30), tipoDocumento varchar(10), estadoDelDocumento_id integer not null, clienteAdmision_id integer, proveedor_id integer, clienteExterno_id integer, coordinacion_id integer, primary key (oid))
create table DocumentoComercial_detalles (DocumentoComercial_oid varchar(32) not null, cantidad integer not null, cantidadRecibida integer not null, cantidadSolicitada integer not null, precioPorUnidad numeric(19,2), producto_id integer)
create table EmpresasBase (DTYPE varchar(31) not null, id integer generated by default as identity (start with 1), activo integer, descripcion varchar(255), impuestoPetrolero numeric(19,2), laEmpresaEsPetrolera boolean, requiereFacturaDetallada boolean, tipoDeBeneficiario varchar(10), celular1 varchar(50), celular2 varchar(50), contacto1 varchar(150), contacto2 varchar(150), telefono1 varchar(50), telefono2 varchar(50), direccion1 varchar(255), direccion2 varchar(255), direccion3 varchar(255), nroIdentificacion varchar(10), aseguradora_id integer, primary key (id))
create table EstadoCivil (id integer generated by default as identity (start with 1), activo integer, descripcion varchar(255), primary key (id))
create table EstatusDeDocumentos (id integer generated by default as identity (start with 1), activo integer, descripcion varchar(255), primary key (id))
create table IMAGES (ID varchar(32) not null, GALLERY varchar(32), image varbinary(16777216), primary key (ID))
create table LugarDeNacimiento (id integer generated by default as identity (start with 1), activo integer, descripcion varchar(255), primary key (id))
create table MovimientosDeContabilidad (id integer generated by default as identity (start with 1), activo integer, descripcion varchar(255), anyoFiscal integer, conceptoDeLaOperacion varchar(255), eventoQueLoGenera varchar(255), fechaDeOperacion date, montoDebe double, montoHaber double, numeroDeCuenta varchar(255), numeroDeOperaccion bigint, primary key (id))
create table NumeroDeHistoria (id integer generated by default as identity (start with 1), activo integer, descripcion varchar(255), ultimoNumeroDeHistoria double check (ultimoNumeroDeHistoria>=0), primary key (id))
create table Ocupaciones (id integer generated by default as identity (start with 1), activo integer, descripcion varchar(255), primary key (id))
create table OXDISCUSSIONCOMMENTS (id varchar(32) not null, comment clob(16777216), discussionId varchar(32), time timestamp, userName varchar(30), primary key (id))
create table Parentesco (id integer generated by default as identity (start with 1), activo integer, descripcion varchar(255), equivalencia varchar(100), primary key (id))
create table PedidoProveedorBase (DTYPE varchar(31) not null, id integer generated by default as identity (start with 1), activo integer, descripcion varchar(255), fechaDeCreacion date, fechaDelDocumento date, importeTotalRecibido numeric(19,2), importeTotalSolicitado numeric(19,2), nomenclatura varchar(255), numero bigint, numeroDocumento varchar(50), pedidoCerrado boolean, tipoDeDocumento varchar(10), proveedor_id integer not null, primary key (id))
create table PedidoProveedorBase_detalles (PedidoProveedorBase_id integer not null, cantidad integer not null, cantidadRecibida integer not null, precioPorUnidad numeric(19,2), producto_id integer)
create table Producto (numero integer not null, descripcion varchar(50), fotos varchar(32), isbn varchar(13), observaciones varchar(255), precio numeric(19,2), autor_oid varchar(32), categoria_oid varchar(32), primary key (numero))
create table Profesiones (id integer generated by default as identity (start with 1), activo integer, descripcion varchar(255), primary key (id))
create table Proveedores (id integer generated by default as identity (start with 1), activo integer, descripcion varchar(255), celular1 varchar(50), celular2 varchar(50), contacto1 varchar(150), contacto2 varchar(150), telefono1 varchar(50), telefono2 varchar(50), direccion1 varchar(255), direccion2 varchar(255), direccion3 varchar(255), correoElectronico varchar(255), paginaWeb varchar(255), telegram varchar(30), whatsApp varchar(30), proveedorActivo boolean, proveedorDeFarmacia boolean, primary key (id))
create table Provincias (id integer generated by default as identity (start with 1), activo integer, descripcion varchar(255), primary key (id))
create table RazonDeAsistenciaMedica (id integer generated by default as identity (start with 1), activo integer, descripcion varchar(255), primary key (id))
create table Regiones (id integer generated by default as identity (start with 1), activo integer, descripcion varchar(255), primary key (id))
create table ReporteSaldosPendientes (id integer generated by default as identity (start with 1), activo integer, descripcion varchar(255), codigo bigint, saldo double, primary key (id))
create table roles_usuarios (usuarios_id integer not null, roles_id integer not null)
create table RolesDeUsuarios (id integer generated by default as identity (start with 1), activo integer, descripcion varchar(255), primary key (id))
create table Sexo (id integer generated by default as identity (start with 1), activo integer, descripcion varchar(255), equivalencia varchar(100), primary key (id))
create table TipoDeInventario (DTYPE varchar(31) not null, id integer generated by default as identity (start with 1), activo integer, descripcion varchar(255), esServicio boolean not null, primary key (id))
create table TipoDePersona (id integer generated by default as identity (start with 1), activo integer, descripcion varchar(255), primary key (id))
create table TipoDePersonal (id integer generated by default as identity (start with 1), activo integer, descripcion varchar(255), primary key (id))
create table UnidadesPorCoordinacion (id integer generated by default as identity (start with 1), activo integer, descripcion varchar(255), coordinacionAsociada_id integer, primary key (id))
create table Usuarios (id integer generated by default as identity (start with 1), activo integer, claveDeUsuario varchar(40), descripcion varchar(255), login varchar(20), usuarioActivo boolean not null, primary key (id))
create index IDXbhlx4vunn24ym1tbrlgq8g30m on OXDISCUSSIONCOMMENTS (discussionId)
alter table Admision add constraint FKc2wv9isuehxjyt9guohv0csx0 foreign key (consultaDeBeneficiario_id) references BeneficiariosBase
alter table Admision add constraint FKo234bwnnav66l1muco9p0my9i foreign key (pacienteAtender_id) references ClienteBase
alter table Admision add constraint FKd395kk9rvacchc0i8gsdtw9tm foreign key (personalQuienAutoriza_id) references BeneficiariosBase
alter table Admision add constraint FKo89a4r4wsa2j0xb89lskyu3e5 foreign key (personalQuienAvala_id) references BeneficiariosBase
alter table Admision add constraint FKpcwcisbvjgao1bqci6phxe5ql foreign key (razonDeAsistenaciaMedica_id) references RazonDeAsistenciaMedica
alter table BeneficiariosBase add constraint FKd265u0lvhbarkjwkakg8x1w7x foreign key (parentesco_id) references Parentesco
alter table BeneficiariosBase add constraint FKg33oatwo267j2t91loylef46e foreign key (sexo_id) references Sexo
alter table BeneficiariosBase add constraint FK3q8dvsu866d88eerla2d1c60o foreign key (contratoHabitualAsociado_id) references Convenio
alter table BeneficiariosBase add constraint FK1efnghtv8055wtpfn8233hv6p foreign key (contratoDeLaClinica_id) references Convenio
alter table BeneficiariosBase add constraint FKmu2w78uglr8pgkfkjp470h3hh foreign key (estadoCivil_id) references EstadoCivil
alter table BeneficiariosBase add constraint FKmkghmxx71ulvxgk8ycjl5tmlx foreign key (lugarDeNacimiento_id) references LugarDeNacimiento
alter table BeneficiariosBase add constraint FKeywt6sn1q417g7uip8cctq40b foreign key (polizaAsociada_id) references Convenio
alter table BeneficiariosBase add constraint FKam71qluqgv57oigjeh1bdda3h foreign key (contratoAsociado_id) references Convenio
alter table CargaDeInventario add constraint FK7gkhah536fgvxwdhnf93hyvdn foreign key (tipoDeInventario_id) references TipoDeInventario
alter table ClienteBase add constraint FKpqjbrjhuql4d5i74g268cw603 foreign key (estadoCivil_id) references EstadoCivil
alter table ClienteBase add constraint FKd4rk0dp23p8bigu3mym070918 foreign key (lugarDeNacimiento_id) references LugarDeNacimiento
alter table ClienteBase add constraint FKa6rhlkqkvm12wiumlppcqrwfi foreign key (sexo_id) references Sexo
alter table ClienteBase add constraint FKkkvkjnf0hl15uwpgv7063x62g foreign key (ocupacion_id) references Ocupaciones
alter table ClienteBase add constraint FKp59xoq57nlkyvsn5w6y8s1etg foreign key (profesion_id) references Profesiones
alter table ClienteBase add constraint FK2egyva8764f3gvpm6s9e12iai foreign key (barrio_id) references Barrios
alter table ClienteBase add constraint FK4recgumh5laow17hcy1ydgevq foreign key (distrito_id) references Distritos
alter table ClienteBase add constraint FKdfbm9c018vnrluegtma8eqk9w foreign key (provincia_id) references Provincias
alter table ClienteBase add constraint FK2ptoah3l1wkpju47c627sx19 foreign key (region_id) references Regiones
alter table Convenio add constraint FKbrqamnpssi3556wifvg6jjpcc foreign key (empresaAseguradora_id) references EmpresasBase
alter table Convenio add constraint FK9pgtjehsrc0pmiuvjb942tbk5 foreign key (empresaAsociada_id) references EmpresasBase
alter table Convenio add constraint FKoenv4ftdiny79o7w2b2qdqfno foreign key (empresaClinicaAsociada_id) references EmpresasBase
alter table Convenio_datosDelServicio add constraint FK7y3f54w68lf2umu8784kggdns foreign key (servicioAsociado_id) references TipoDeInventario
alter table Convenio_datosDelServicio add constraint FKp74nexgdu4g5nvx9gbwje3sl foreign key (Convenio_id) references Convenio
alter table DocumentoComercial add constraint FKj2jlypbc4b506j2je2w3sl2sf foreign key (estadoDelDocumento_id) references EstatusDeDocumentos
alter table DocumentoComercial add constraint FKk5djcpmnppwh2yddhh85hkv92 foreign key (clienteAdmision_id) references Admision
alter table DocumentoComercial add constraint FKfdpr2gp26hc16s4byyolphxsr foreign key (proveedor_id) references Proveedores
alter table DocumentoComercial add constraint FKjseghlmxsrakvpwyah79x0hfm foreign key (clienteExterno_id) references ClienteBase
alter table DocumentoComercial add constraint FK3dlw0qu2p8du3gniqolb11vua foreign key (coordinacion_id) references Coordinaciones
alter table DocumentoComercial_detalles add constraint FKgyrmqvbta6ojxtn3v7s5i0g7l foreign key (producto_id) references CargaDeInventario
alter table DocumentoComercial_detalles add constraint FKq37xaecvr7po697tmegcffoba foreign key (DocumentoComercial_oid) references DocumentoComercial
alter table EmpresasBase add constraint FKnb0q1sx4qh4kgv3ougoqub8af foreign key (aseguradora_id) references Aseguradoras
alter table PedidoProveedorBase add constraint FKqbe6cqg1m1awewr2afy5ov495 foreign key (proveedor_id) references Proveedores
alter table PedidoProveedorBase_detalles add constraint FKtamlxri9j4t6qavwe4ktiiusj foreign key (producto_id) references CargaDeInventario
alter table PedidoProveedorBase_detalles add constraint FK72sagvghi2a8et247rlqbin3h foreign key (PedidoProveedorBase_id) references PedidoProveedorBase
alter table Producto add constraint FKmtkejrnklbkimttu99b9jqufw foreign key (autor_oid) references Autor
alter table Producto add constraint FKc81rcy0vfdn5ewnap5scabhd3 foreign key (categoria_oid) references Categoria
alter table roles_usuarios add constraint FK5g2gvrnxvis40u3v9u9wg3jqu foreign key (roles_id) references Usuarios
alter table roles_usuarios add constraint FKfsnrss25eb6qtdk2378dr90tf foreign key (usuarios_id) references RolesDeUsuarios
alter table UnidadesPorCoordinacion add constraint FKqndkede5epwvnh0qg0yr5qqkv foreign key (coordinacionAsociada_id) references Coordinaciones
